
# Telegram Schedule Bot 

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –¥–ª—è —É–ø—Ä–≤–ª–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º.  
–ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–¥–∞—á–∏ —Å –Ω–∞—á–∞–ª–æ–º –∏ –æ–∫–æ–Ω—á–∞–Ω–∏–µ–º, –≤—ã–±–∏—Ä–∞—Ç—å –¥–Ω–∏ (–°–µ–≥–æ–¥–Ω—è / –ï–∂–µ–¥–Ω–µ–≤–Ω–æ / –†–∞–±–æ—á–∏–µ / –í—ã–±—Ä–∞—Ç—å –¥–Ω–∏), –∑–∞–ø—É—Å–∫–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å –∏ –ø–æ–ª—É—á–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ä—Ç–µ/—Ñ–∏–Ω–∏—à–µ.  
–ë–æ—Ç —Ç–∞–∫–∂–µ –≤–µ–¥—ë—Ç —É—á—ë—Ç –≤—Ä–µ–º–µ–Ω–∏ –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –æ—Ç—á—ë—Ç—ã.

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á**
  - –Ω–∞–∑–≤–∞–Ω–∏–µ;
  - –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è;
  - –ø–æ–≤—Ç–æ—Ä: **–°–µ–≥–æ–¥–Ω—è**, **–ï–∂–µ–¥–Ω–µ–≤–Ω–æ**, **–†–∞–±–æ—á–∏–µ –¥–Ω–∏**, **–í—ã–±—Ä–∞—Ç—å –¥–Ω–∏** (—Å –≥–∞–ª–æ—á–∫–∞–º–∏ `‚úÖ`).
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
  - –±–æ—Ç –ø—Ä–∏—Å—ã–ª–∞–µ—Ç ¬´üîî –°—Ç–∞—Ä—Ç –∑–∞–¥–∞—á–∏¬ª –∏ ¬´‚úÖ –§–∏–Ω–∏—à –∑–∞–¥–∞—á–∏¬ª –≤ –∑–∞–¥–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è.
- **–£—á—ë—Ç –≤—Ä–µ–º–µ–Ω–∏**
  - –∑–∞–¥–∞—á–∏ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –≤ –±–∞–∑–µ, –≤—Ä–µ–º—è —Å—É–º–º–∏—Ä—É–µ—Ç—Å—è –¥–ª—è –æ—Ç—á—ë—Ç–æ–≤.
- **–û—Ç—á—ë—Ç—ã**
  - –ø–µ—Ä–∏–æ–¥—ã: **–°–µ–≥–æ–¥–Ω—è**, **–ù–µ–¥–µ–ª—è**, **–ú–µ—Å—è—Ü**, **–í—Å—ë –≤—Ä–µ–º—è**.
- **–°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á**
  - –∫–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ –≤—ã–≤–æ–¥–∏—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º;
  - –ø–æ–¥ –∑–∞–¥–∞—á–µ–π –∫–Ω–æ–ø–∫–∏ **–í–∫–ª/–í—ã–∫–ª** –∏ **–£–¥–∞–ª–∏—Ç—å**;
  - –ø–æ–∫–∞–∑–∞–Ω—ã –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –¥–Ω–∏: –ï–∂–µ–¥–Ω–µ–≤–Ω–æ / –†–∞–±–æ—á–∏–µ –¥–Ω–∏ / –ü–Ω, –°—Ä, –ü—Ç –∏ —Ç.–ø.
- **–ö–æ–Ω—Ç—Ä–æ–ª—å**
  - `/run` ‚Äî –≤–∫–ª—é—á–∞–µ—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫;
  - `/stop` ‚Äî –≤—ã–∫–ª—é—á–∞–µ—Ç.
- **–¢–∞–π–º-–∑–æ–Ω–∞**
  - `/tz Europe/Kyiv` –∏–ª–∏ –ª—é–±–∞—è IANA-—Ç–∞–π–º–∑–æ–Ω–∞;
  - –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–µ –ø–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á –≤ **00:05** –≤–∞—à–µ–π —Ç–∞–π–º-–∑–æ–Ω—ã.
- **–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**
  - SQLite (`./data/data.db`);
  - –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ

### 1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
1. –ù–∞–ø–∏—à–∏—Ç–µ **@BotFather** ‚Üí `/newbot`.  
2. –ó–∞–¥–∞–π—Ç–µ –∏–º—è –∏ @username.  
3. –ü–æ–ª—É—á–∏—Ç–µ **Bot Token**.

### 2. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç
```bash
git clone https://github.com/okpulse/telegram-schedule-bot.git
cd telegram-schedule-bot
```

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä `.env`:
```bash
cp .env.example .env
```

–û—Ç–∫—Ä–æ–π—Ç–µ `.env` –∏ —É–∫–∞–∂–∏—Ç–µ —Ç–æ–∫–µ–Ω:
```
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–∏–∑_BotFather
# DATABASE_URL=./data/data.db
# DEFAULT_TZ=Europe/Kyiv
```

### 4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ
```bash
go mod tidy
go run ./cmd/bot
```

---

## üìã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- **‚ûï –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É** ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á.
- **üìã –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á** ‚Äî —Å–ø–∏—Å–æ–∫ —É–∂–µ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞—á.
- **‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å** ‚Äî –≤–∫–ª—é—á–∞–µ—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫.
- **‚èπ –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å** ‚Äî –≤—ã–∫–ª—é—á–∞–µ—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫.
- **üïí –¢–∞–π–º-–∑–æ–Ω–∞** ‚Äî –ø–æ–¥—Å–∫–∞–∑–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–µ `/tz`.
- **üìä –û—Ç—á—ë—Ç** ‚Äî –æ—Ç—á—ë—Ç—ã –∑–∞ –ø–µ—Ä–∏–æ–¥—ã.

### –ö–æ–º–∞–Ω–¥—ã
- `/start`, `/add`, `/list`, `/run`, `/stop`, `/report`, `/tz`, `/help`

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (`.env`):

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è    | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------------|----------|
| `BOT_TOKEN`   | —Ç–æ–∫–µ–Ω –∏–∑ BotFather (**–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ**) |
| `DATABASE_URL`| –ø—É—Ç—å –∫ –ë–î (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `./data/data.db`) |
| `DEFAULT_TZ`  | —Ç–∞–π–º-–∑–æ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (`Europe/Kyiv`) |

---

## üê≥ –ó–∞–ø—É—Å–∫ –≤ Docker

```bash
docker build -t tg-schedule-bot .
docker run --env-file .env -v $(pwd)/data:/srv/data tg-schedule-bot
```

---

## ‚ùó –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

- –û—à–∏–±–∫–∞: `exec: "git": executable file not found in %PATH%` –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ `go mod tidy`. 
  –†–µ—à–µ–Ω–∏–µ: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Git (–¥–ª—è `go mod tidy`).
- –ù–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π/–æ—Ç—á—ë—Ç—ã –ø—É—Å—Ç—ã–µ
  –†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–Ω—Ç—Ä–æ–ª—å –∑–∞–ø—É—â–µ–Ω, –∞ –≤—Ä–µ–º—è –∑–∞–¥–∞—á–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –µ—â—ë –Ω–µ –ø—Ä–æ—à–ª–æ –Ω–∞ –º–æ–º–µ–Ω—Ç –∑–∞–ø—É—Å–∫–∞. –ó–∞–¥–∞—á–∏ –ø–µ—Ä–µ–ø–ª–∞–Ω–∏—Ä—É—é—Ç—Å—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 00:05 –≤–∞—à–µ–π —Ç–∞–π–º‚Äë–∑–æ–Ω—ã ‚Äî –ª–∏–±–æ –º–æ–∂–Ω–æ –≤—Ä—É—á–Ω—É—é /run –ø–æ—Å–ª–µ –ø—Ä–∞–≤–æ–∫. 




